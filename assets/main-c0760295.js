/* empty css              */import{ag as Y,ah as Z,c as I,av as P,V as J,ad as q,S as K,A as Q,a0 as $,P as ee,W as te,ap as ne,m as oe,s as re,k as ae,D as se,a as ie}from"./three.module-d5fa3ebf.js";import{O as ce}from"./OrbitControls-5742bab2.js";import{S as le}from"./Stats-ef6ecf20.js";import{G as de}from"./lil-gui.esm-fc0b5e43.js";import{g as C}from"./index-21dc82eb.js";class ue extends Y{constructor(g){super(g)}load(g,h,G,L){const E=this,x=new Z(this.manager);x.setPath(this.path),x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(g,function(V){try{h(E.parse(V))}catch(U){L?L(U):console.error(U),E.manager.itemError(g)}},G,L)}parse(g){function h(t){const e=new DataView(t),o=32/8*3+32/8*3*3+16/8,s=e.getUint32(80,!0);if(80+32/8+s*o===e.byteLength)return!0;const i=[115,111,108,105,100];for(let l=0;l<5;l++)if(G(i,e,l))return!1;return!0}function G(t,e,o){for(let s=0,c=t.length;s<c;s++)if(t[s]!==e.getUint8(o+s))return!1;return!0}function L(t){const e=new DataView(t),o=e.getUint32(80,!0);let s,c,i,l=!1,F,R,v,u,r;for(let n=0;n<80-10;n++)e.getUint32(n,!1)==1129270351&&e.getUint8(n+4)==82&&e.getUint8(n+5)==61&&(l=!0,F=new Float32Array(o*3*3),R=e.getUint8(n+6)/255,v=e.getUint8(n+7)/255,u=e.getUint8(n+8)/255,r=e.getUint8(n+9)/255);const D=84,z=12*4+2,d=new I,y=new Float32Array(o*3*3),S=new Float32Array(o*3*3);for(let n=0;n<o;n++){const m=D+n*z,H=e.getFloat32(m,!0),T=e.getFloat32(m+4,!0),X=e.getFloat32(m+8,!0);if(l){const f=e.getUint16(m+48,!0);f&32768?(s=R,c=v,i=u):(s=(f&31)/31,c=(f>>5&31)/31,i=(f>>10&31)/31)}for(let f=1;f<=3;f++){const W=m+f*12,p=n*3*3+(f-1)*3;y[p]=e.getFloat32(W,!0),y[p+1]=e.getFloat32(W+4,!0),y[p+2]=e.getFloat32(W+8,!0),S[p]=H,S[p+1]=T,S[p+2]=X,l&&(F[p]=s,F[p+1]=c,F[p+2]=i)}}return d.setAttribute("position",new P(y,3)),d.setAttribute("normal",new P(S,3)),l&&(d.setAttribute("color",new P(F,3)),d.hasColors=!0,d.alpha=r),d}function E(t){const e=new I,o=/solid([\s\S]*?)endsolid/g,s=/facet([\s\S]*?)endfacet/g;let c=0;const i=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,l=new RegExp("vertex"+i+i+i,"g"),F=new RegExp("normal"+i+i+i,"g"),R=[],v=[],u=new J;let r,D=0,z=0,d=0;for(;(r=o.exec(t))!==null;){z=d;const y=r[0];for(;(r=s.exec(y))!==null;){let m=0,H=0;const T=r[0];for(;(r=F.exec(T))!==null;)u.x=parseFloat(r[1]),u.y=parseFloat(r[2]),u.z=parseFloat(r[3]),H++;for(;(r=l.exec(T))!==null;)R.push(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3])),v.push(u.x,u.y,u.z),m++,d++;H!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+c),m!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+c),c++}const S=z,n=d-z;e.addGroup(S,n,D),D++}return e.setAttribute("position",new q(R,3)),e.setAttribute("normal",new q(v,3)),e}function x(t){return typeof t!="string"?new TextDecoder().decode(t):t}function V(t){if(typeof t=="string"){const e=new Uint8Array(t.length);for(let o=0;o<t.length;o++)e[o]=t.charCodeAt(o)&255;return e.buffer||e}else return t}const U=V(g);return h(U)?L(U):E(x(g))}}const A=document.querySelector("#app"),B=new K;B.add(new Q(5));const O=new $;O.position.set(20,20,20);B.add(O);const w=new ee(75,window.innerWidth/window.innerHeight,.1,1e3);w.position.z=10;const b=new te;b.outputEncoding=ne;b.setSize(window.innerWidth,window.innerHeight);A==null||A.appendChild(b.domElement);const k=new ce(w,b.domElement);k.enableDamping=!0;const j=new oe().load([C("px_50"),C("nx_50"),C("py_50"),C("ny_50"),C("pz_50"),C("nz_50")]);j.mapping=re;const fe=new ae({color:11730888,envMap:j,metalness:0,roughness:0,transparent:!0,transmission:1,side:se,clearcoat:1,clearcoatRoughness:.25}),pe=new ue;let _;pe.load("/assets/models/example.stl",function(a){_=new ie(a,fe),B.add(_)},a=>{console.log(a.loaded/a.total*100+"% loaded")},a=>{console.log(a)});window.addEventListener("resize",me,!1);const ge=we();he();M();N();function N(){requestAnimationFrame(N),k.update(),ge.update(),_.rotation.x+=.005,_.rotation.y+=.005,M()}function M(){b.render(B,w)}function me(){w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),b.setSize(window.innerWidth,window.innerHeight),M()}function we(){const a=new le;return A==null||A.appendChild(a.dom),a}function he(){const a=document.querySelector("#gui");if(!a)return;const h=new de({container:a}).addFolder("Camera");h.add(w.position,"x",-10,10,.01),h.add(w.position,"y",-10,10,.01),h.add(w.position,"z",-10,10,.01)}

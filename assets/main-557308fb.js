/* empty css              */import{E as de,e as R,V as m,g as f,a6 as ee,Q as le,S as me,A as ue,P as he,W as fe,B as ge,M as ye,a as Ee}from"./three.module-d5fa3ebf.js";import{S as we}from"./Stats-ef6ecf20.js";import{G as be}from"./lil-gui.esm-fc0b5e43.js";const Y={type:"change"},I={type:"start"},H={type:"end"};class Oe extends de{constructor(q,M){super();const e=this,n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=q,this.domElement=M,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:R.ROTATE,MIDDLE:R.DOLLY,RIGHT:R.PAN},this.target=new m;const F=1e-6,P=new m;let k=1,r=n.NONE,h=n.NONE,z=0,A=0,v=0;const a=new m,d=new f,c=new f,V=new m,l=new f,b=new f,y=new f,O=new f,i=[],x={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const t=e.domElement.getBoundingClientRect(),o=e.domElement.ownerDocument.documentElement;e.screen.left=t.left+window.pageXOffset-o.clientLeft,e.screen.top=t.top+window.pageYOffset-o.clientTop,e.screen.width=t.width,e.screen.height=t.height};const T=function(){const t=new f;return function(s,p){return t.set((s-e.screen.left)/e.screen.width,(p-e.screen.top)/e.screen.height),t}}(),C=function(){const t=new f;return function(s,p){return t.set((s-e.screen.width*.5-e.screen.left)/(e.screen.width*.5),(e.screen.height+2*(e.screen.top-p))/e.screen.width),t}}();this.rotateCamera=function(){const t=new m,o=new le,s=new m,p=new m,g=new m,E=new m;return function(){E.set(c.x-d.x,c.y-d.y,0);let N=E.length();N?(a.copy(e.object.position).sub(e.target),s.copy(a).normalize(),p.copy(e.object.up).normalize(),g.crossVectors(p,s).normalize(),p.setLength(c.y-d.y),g.setLength(c.x-d.x),E.copy(p.add(g)),t.crossVectors(E,a).normalize(),N*=e.rotateSpeed,o.setFromAxisAngle(t,N),a.applyQuaternion(o),e.object.up.applyQuaternion(o),V.copy(t),v=N):!e.staticMoving&&v&&(v*=Math.sqrt(1-e.dynamicDampingFactor),a.copy(e.object.position).sub(e.target),o.setFromAxisAngle(V,v),a.applyQuaternion(o),e.object.up.applyQuaternion(o)),d.copy(c)}}(),this.zoomCamera=function(){let t;r===n.TOUCH_ZOOM_PAN?(t=z/A,z=A,e.object.isPerspectiveCamera?a.multiplyScalar(t):e.object.isOrthographicCamera?(e.object.zoom=ee.clamp(e.object.zoom/t,e.minZoom,e.maxZoom),k!==e.object.zoom&&e.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(t=1+(b.y-l.y)*e.zoomSpeed,t!==1&&t>0&&(e.object.isPerspectiveCamera?a.multiplyScalar(t):e.object.isOrthographicCamera?(e.object.zoom=ee.clamp(e.object.zoom/t,e.minZoom,e.maxZoom),k!==e.object.zoom&&e.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),e.staticMoving?l.copy(b):l.y+=(b.y-l.y)*this.dynamicDampingFactor)},this.panCamera=function(){const t=new f,o=new m,s=new m;return function(){if(t.copy(O).sub(y),t.lengthSq()){if(e.object.isOrthographicCamera){const g=(e.object.right-e.object.left)/e.object.zoom/e.domElement.clientWidth,E=(e.object.top-e.object.bottom)/e.object.zoom/e.domElement.clientWidth;t.x*=g,t.y*=E}t.multiplyScalar(a.length()*e.panSpeed),s.copy(a).cross(e.object.up).setLength(t.x),s.add(o.copy(e.object.up).setLength(t.y)),e.object.position.add(s),e.target.add(s),e.staticMoving?y.copy(O):y.add(t.subVectors(O,y).multiplyScalar(e.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!e.noZoom||!e.noPan)&&(a.lengthSq()>e.maxDistance*e.maxDistance&&(e.object.position.addVectors(e.target,a.setLength(e.maxDistance)),l.copy(b)),a.lengthSq()<e.minDistance*e.minDistance&&(e.object.position.addVectors(e.target,a.setLength(e.minDistance)),l.copy(b)))},this.update=function(){a.subVectors(e.object.position,e.target),e.noRotate||e.rotateCamera(),e.noZoom||e.zoomCamera(),e.noPan||e.panCamera(),e.object.position.addVectors(e.target,a),e.object.isPerspectiveCamera?(e.checkDistances(),e.object.lookAt(e.target),P.distanceToSquared(e.object.position)>F&&(e.dispatchEvent(Y),P.copy(e.object.position))):e.object.isOrthographicCamera?(e.object.lookAt(e.target),(P.distanceToSquared(e.object.position)>F||k!==e.object.zoom)&&(e.dispatchEvent(Y),P.copy(e.object.position),k=e.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){r=n.NONE,h=n.NONE,e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.up.copy(e.up0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),a.subVectors(e.object.position,e.target),e.object.lookAt(e.target),e.dispatchEvent(Y),P.copy(e.object.position),k=e.object.zoom};function W(t){e.enabled!==!1&&(i.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",_),e.domElement.addEventListener("pointerup",Z)),re(t),t.pointerType==="touch"?se(t):oe(t))}function _(t){e.enabled!==!1&&(t.pointerType==="touch"?ae(t):ne(t))}function Z(t){e.enabled!==!1&&(t.pointerType==="touch"?ce(t):ie(),J(t),i.length===0&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",_),e.domElement.removeEventListener("pointerup",Z)))}function B(t){J(t)}function D(t){e.enabled!==!1&&(window.removeEventListener("keydown",D),h===n.NONE&&(t.code===e.keys[n.ROTATE]&&!e.noRotate?h=n.ROTATE:t.code===e.keys[n.ZOOM]&&!e.noZoom?h=n.ZOOM:t.code===e.keys[n.PAN]&&!e.noPan&&(h=n.PAN)))}function G(){e.enabled!==!1&&(h=n.NONE,window.addEventListener("keydown",D))}function oe(t){if(r===n.NONE)switch(t.button){case e.mouseButtons.LEFT:r=n.ROTATE;break;case e.mouseButtons.MIDDLE:r=n.ZOOM;break;case e.mouseButtons.RIGHT:r=n.PAN;break}const o=h!==n.NONE?h:r;o===n.ROTATE&&!e.noRotate?(c.copy(C(t.pageX,t.pageY)),d.copy(c)):o===n.ZOOM&&!e.noZoom?(l.copy(T(t.pageX,t.pageY)),b.copy(l)):o===n.PAN&&!e.noPan&&(y.copy(T(t.pageX,t.pageY)),O.copy(y)),e.dispatchEvent(I)}function ne(t){const o=h!==n.NONE?h:r;o===n.ROTATE&&!e.noRotate?(d.copy(c),c.copy(C(t.pageX,t.pageY))):o===n.ZOOM&&!e.noZoom?b.copy(T(t.pageX,t.pageY)):o===n.PAN&&!e.noPan&&O.copy(T(t.pageX,t.pageY))}function ie(){r=n.NONE,e.dispatchEvent(H)}function Q(t){if(e.enabled!==!1&&e.noZoom!==!0){switch(t.preventDefault(),t.deltaMode){case 2:l.y-=t.deltaY*.025;break;case 1:l.y-=t.deltaY*.01;break;default:l.y-=t.deltaY*25e-5;break}e.dispatchEvent(I),e.dispatchEvent(H)}}function se(t){switch($(t),i.length){case 1:r=n.TOUCH_ROTATE,c.copy(C(i[0].pageX,i[0].pageY)),d.copy(c);break;default:r=n.TOUCH_ZOOM_PAN;const o=i[0].pageX-i[1].pageX,s=i[0].pageY-i[1].pageY;A=z=Math.sqrt(o*o+s*s);const p=(i[0].pageX+i[1].pageX)/2,g=(i[0].pageY+i[1].pageY)/2;y.copy(T(p,g)),O.copy(y);break}e.dispatchEvent(I)}function ae(t){switch($(t),i.length){case 1:d.copy(c),c.copy(C(t.pageX,t.pageY));break;default:const o=pe(t),s=t.pageX-o.x,p=t.pageY-o.y;A=Math.sqrt(s*s+p*p);const g=(t.pageX+o.x)/2,E=(t.pageY+o.y)/2;O.copy(T(g,E));break}}function ce(t){switch(i.length){case 0:r=n.NONE;break;case 1:r=n.TOUCH_ROTATE,c.copy(C(t.pageX,t.pageY)),d.copy(c);break;case 2:r=n.TOUCH_ZOOM_PAN;for(let o=0;o<i.length;o++)if(i[o].pointerId!==t.pointerId){const s=x[i[o].pointerId];c.copy(C(s.x,s.y)),d.copy(c);break}break}e.dispatchEvent(H)}function K(t){e.enabled!==!1&&t.preventDefault()}function re(t){i.push(t)}function J(t){delete x[t.pointerId];for(let o=0;o<i.length;o++)if(i[o].pointerId==t.pointerId){i.splice(o,1);return}}function $(t){let o=x[t.pointerId];o===void 0&&(o=new f,x[t.pointerId]=o),o.set(t.pageX,t.pageY)}function pe(t){const o=t.pointerId===i[0].pointerId?i[1]:i[0];return x[o.pointerId]}this.dispose=function(){e.domElement.removeEventListener("contextmenu",K),e.domElement.removeEventListener("pointerdown",W),e.domElement.removeEventListener("pointercancel",B),e.domElement.removeEventListener("wheel",Q),e.domElement.removeEventListener("pointermove",_),e.domElement.removeEventListener("pointerup",Z),window.removeEventListener("keydown",D),window.removeEventListener("keyup",G)},this.domElement.addEventListener("contextmenu",K),this.domElement.addEventListener("pointerdown",W),this.domElement.addEventListener("pointercancel",B),this.domElement.addEventListener("wheel",Q,{passive:!1}),window.addEventListener("keydown",D),window.addEventListener("keyup",G),this.handleResize(),this.update()}}const S=document.querySelector("#app"),U=new me;U.add(new ue(5));const w=new he(75,window.innerWidth/window.innerHeight,.1,1e3);w.position.z=2;const L=new fe;L.setSize(window.innerWidth,window.innerHeight);S==null||S.appendChild(L.domElement);const u=new Oe(w,L.domElement);u.update();u.addEventListener("change",()=>console.log("Controls Change"));u.addEventListener("start",()=>console.log("Controls Start Event"));u.addEventListener("end",()=>console.log("Controls End Event"));u.rotateSpeed=1;u.zoomSpeed=1.2;u.panSpeed=.8;u.keys=["65","KeyS","KeyD"];u.maxDistance=4;u.minDistance=2;const je=new ge,Te=new ye({color:65280,wireframe:!0}),Ce=new Ee(je,Te);U.add(Ce);window.addEventListener("resize",Me,!1);const Se=Pe();ke();X();te();function te(){requestAnimationFrame(te),u.update(),Se.update(),X()}function X(){L.render(U,w)}function Me(){w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),L.setSize(window.innerWidth,window.innerHeight),X()}function Pe(){const j=new we;return S==null||S.appendChild(j.dom),j}function ke(){const j=document.querySelector("#gui");if(!j)return;const M=new be({container:j}).addFolder("Camera");M.add(w.position,"x",-10,10,.01),M.add(w.position,"y",-10,10,.01),M.add(w.position,"z",-10,10,.01)}

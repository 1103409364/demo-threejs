/* empty css              */import{S as D,A as O,a0 as I,P as R,W as j,af as E,r as T,B as U,a as z,b as V,ac as J,I as N,j as X,i as _,a_ as Q}from"./three.module-d5fa3ebf.js";import{W as Y,B as Z,V as b,a as l,S as $,b as oo,P as eo}from"./cannon-es-36f8ef45.js";import{C as k}from"./cannonUtils-f382e6b3.js";import{C as no}from"./cannonDebugRenderer-c9bfe783.js";import{O as to}from"./OBJLoader-84dac0c0.js";import{O as io}from"./OrbitControls-5742bab2.js";import{S as so}from"./Stats-ef6ecf20.js";import{G as ao}from"./lil-gui.esm-fc0b5e43.js";const x=document.querySelector("#app"),a=new D;a.add(new O(5));const y=new I;y.position.set(2.5,5,5);y.angle=Math.PI/4;y.penumbra=.5;y.castShadow=!0;y.shadow.mapSize.width=1024;y.shadow.mapSize.height=1024;y.shadow.camera.near=.5;y.shadow.camera.far=20;a.add(y);const m=new I;m.position.set(-2.5,5,5);m.angle=Math.PI/4;m.penumbra=.5;m.castShadow=!0;m.shadow.mapSize.width=1024;m.shadow.mapSize.height=1024;m.shadow.camera.near=.5;m.shadow.camera.far=20;a.add(m);const u=new R(75,window.innerWidth/window.innerHeight,.1,1e3);u.position.set(0,3,6);const g=new j;g.setSize(window.innerWidth,window.innerHeight);g.shadowMap.enabled=!0;x==null||x.appendChild(g.domElement);const C=new io(u,g.domElement);C.enableDamping=!0;C.target.y=.5;const e=new Y;e.gravity.set(0,-9.82,0);const q=new E,ro=new T,po=new U(1,1,1),w=new z(po,q);w.position.x=-2;w.position.y=3;w.castShadow=!0;a.add(w);const co=new Z(new b(.5,.5,.5)),n=new l({mass:1});n.addShape(co);n.position.x=w.position.x;n.position.y=w.position.y;n.position.z=w.position.z;e.addBody(n);const wo=new V,h=new z(wo,q);h.position.x=-2;h.position.y=3;h.castShadow=!0;a.add(h);const ho=new $(1),t=new l({mass:1});t.addShape(ho);t.position.x=h.position.x;t.position.y=h.position.y;t.position.z=h.position.z;e.addBody(t);const yo=new J(1,1,2,8),S=new z(yo,q);S.position.x=0;S.position.y=3;S.castShadow=!0;a.add(S);const mo=new oo(1,1,2,8),M=new l({mass:1});M.addShape(mo,new b);M.position.x=S.position.x;M.position.y=S.position.y;M.position.z=S.position.z;e.addBody(M);const uo=new N(1,0),d=new z(uo,q);d.position.x=2;d.position.y=3;d.castShadow=!0;a.add(d);const A=k.CreateConvexPolyhedron(d.geometry),i=new l({mass:1});i.addShape(A);i.position.x=d.position.x;i.position.y=d.position.y;i.position.z=d.position.z;e.addBody(i);const lo=new X,p=new z(lo,q);p.position.x=4;p.position.y=3;p.castShadow=!0;a.add(p);const So=k.CreateTrimesh(p.geometry),s=new l({mass:1});s.addShape(So);s.position.x=p.position.x;s.position.y=p.position.y;s.position.z=p.position.z;e.addBody(s);let c,o,F=!1;const xo=new to;xo.load("/assets/models/monkey.obj",r=>{a.add(r),c=r.children[0],c.material=q,c.position.x=-2,c.position.y=20,o=new l({mass:1}),o.addShape(A),o.position.x=c.position.x,o.position.y=c.position.y,o.position.z=c.position.z,e.addBody(o),F=!0},r=>{console.log(r.loaded/r.total*100+"% loaded")},r=>{console.log("An error happened",r)});const zo=new _(25,25),B=new z(zo,ro);B.position.y=-.01;B.rotateX(-Math.PI/2);B.receiveShadow=!0;a.add(B);const go=new eo,P=new l({mass:0});P.addShape(go);P.quaternion.setFromAxisAngle(new b(1,0,0),-Math.PI/2);e.addBody(P);window.addEventListener("resize",qo,!1);function qo(){u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),g.setSize(window.innerWidth,window.innerHeight),K()}const L=new so;x==null||x.appendChild(L.dom);const Mo=new Q;let v;const Bo=new no(a,e);function H(){requestAnimationFrame(H),C.update(),v=Math.min(Mo.getDelta(),.1),e.step(v),Bo.update(),w.position.set(n.position.x,n.position.y,n.position.z),w.quaternion.set(n.quaternion.x,n.quaternion.y,n.quaternion.z,n.quaternion.w),h.position.set(t.position.x,t.position.y,t.position.z),h.quaternion.set(t.quaternion.x,t.quaternion.y,t.quaternion.z,t.quaternion.w),d.position.set(i.position.x,i.position.y,i.position.z),d.quaternion.set(i.quaternion.x,i.quaternion.y,i.quaternion.z,i.quaternion.w),p.position.set(s.position.x,s.position.y,s.position.z),p.quaternion.set(s.quaternion.x,s.quaternion.y,s.quaternion.z,s.quaternion.w),F&&(c.position.set(o.position.x,o.position.y,o.position.z),c.quaternion.set(o.quaternion.x,o.quaternion.y,o.quaternion.z,o.quaternion.w)),K(),L.update()}function K(){g.render(a,u)}function fo(){const r=document.querySelector("#gui");if(!r)return;const W=new ao({container:r}),f=W.addFolder("Physics");f.add(e.gravity,"x",-10,10,.1),f.add(e.gravity,"y",-10,10,.1),f.add(e.gravity,"z",-10,10,.1);const G=W.addFolder("Camera");G.add(u.position,"x",-10,10,.01),G.add(u.position,"y",-10,10,.01),G.add(u.position,"z",-10,10,.01)}fo();H();

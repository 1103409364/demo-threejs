/* empty css              */import{S as q,A as x,a0 as M,P as W,W as v,a3 as B,af as F,r as A,i as G,a as L,a_ as H}from"./three.module-d5fa3ebf.js";import{W as I,a as f,S as m,V as l,P as E}from"./cannon-es-36f8ef45.js";import{C as O}from"./cannonDebugRenderer-c9bfe783.js";import{O as R}from"./OBJLoader-84dac0c0.js";import{O as j}from"./OrbitControls-5742bab2.js";import{S as D}from"./Stats-ef6ecf20.js";import{G as V}from"./lil-gui.esm-fc0b5e43.js";const h=document.querySelector("#app"),c=new q;c.add(new x(5));const t=new M;t.position.set(2.5,5,5);t.angle=Math.PI/4;t.penumbra=.5;t.castShadow=!0;t.shadow.mapSize.width=1024;t.shadow.mapSize.height=1024;t.shadow.camera.near=.5;t.shadow.camera.far=20;c.add(t);const s=new M;s.position.set(-2.5,5,5);s.angle=Math.PI/4;s.penumbra=.5;s.castShadow=!0;s.shadow.mapSize.width=1024;s.shadow.mapSize.height=1024;s.shadow.camera.near=.5;s.shadow.camera.far=20;c.add(s);const r=new W(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.set(0,4,4);const p=new v;p.setSize(window.innerWidth,window.innerHeight);p.shadowMap.enabled=!0;p.shadowMap.type=B;h==null||h.appendChild(p.domElement);const u=new j(r,p.domElement);u.screenSpacePanning=!0;u.target.y=2;const w=new I;w.gravity.set(0,-9.82,0);const J=new F,N=new A,z=[],d=[];let P=!1;const U=new R;U.load("/assets/models/monkey.obj",n=>{const e=n.children[0];e.material=J;for(let i=0;i<200;i++){const o=e.clone();o.position.x=Math.floor(Math.random()*10)-5,o.position.z=Math.floor(Math.random()*10)-5,o.position.y=5+i,c.add(o),z.push(o);const a=new f({mass:1});a.addShape(new m(.8),new l(0,.2,0)),a.addShape(new m(.05),new l(0,-.97,.46)),a.addShape(new m(.05),new l(-1.36,.29,-.5)),a.addShape(new m(.05),new l(1.36,.29,-.5)),a.position.x=o.position.x,a.position.y=o.position.y,a.position.z=o.position.z,w.addBody(a),d.push(a)}P=!0},n=>{console.log(n.loaded/n.total*100+"% loaded")},n=>{console.log("An error happened",n)});const X=new G(25,25),y=new L(X,N);y.rotateX(-Math.PI/2);y.receiveShadow=!0;c.add(y);const _=new E,g=new f({mass:0});g.addShape(_);g.quaternion.setFromAxisAngle(new l(1,0,0),-Math.PI/2);w.addBody(g);window.addEventListener("resize",K,!1);function K(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight),k()}const C=new D;h==null||h.appendChild(C.dom);const Q=new H;let S;const T=new O(c,w);function b(){requestAnimationFrame(b),u.update(),S=Math.min(Q.getDelta(),.1),w.step(S),T.update(),P&&z.forEach((n,e)=>{n.position.set(d[e].position.x,d[e].position.y,d[e].position.z),n.quaternion.set(d[e].quaternion.x,d[e].quaternion.y,d[e].quaternion.z,d[e].quaternion.w)}),k(),C.update()}function k(){p.render(c,r)}function Y(){const n=document.querySelector("#gui");if(!n)return;const e=new V({container:n}),i=e.addFolder("Physics");i.add(w.gravity,"x",-10,10,.1),i.add(w.gravity,"y",-10,10,.1),i.add(w.gravity,"z",-10,10,.1),i.open();const o=e.addFolder("Camera");o.add(r.position,"x",-10,10,.01),o.add(r.position,"y",-10,10,.01),o.add(r.position,"z",-10,10,.01)}Y();b();
